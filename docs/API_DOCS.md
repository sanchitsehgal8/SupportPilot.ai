# SupportPilot API Documentation

Base URL: `http://localhost:5001/api`

## Auth

- `POST /auth/register`
  - Body: `{ "email": "...", "password": "...", "name": "..." }`
  - Response: 201 Created with user info and token

- `POST /auth/login`
  - Body: `{ "email": "...", "password": "..." }`
  - Response: 200 OK with token and user info

## Tickets

- `POST /tickets`
  - Headers: `X-User-ID` (simulated user id) or bearer token
  - Body: `{ "title": "...", "description": "...", "priority": "medium" }`
  - Response: 201 Created — returns ticket and ML metadata

- `GET /tickets/<ticket_id>` — get ticket details

- `PUT /tickets/status/<ticket_id>`
  - Body: `{ "status": "in_progress" }`

- `POST /tickets/assign/<ticket_id>`
  - Body: `{ "agent_id": "agent_123" }`

## Analytics

- `GET /analytics/dashboard` — overall metrics
- `GET /analytics/agents` — performance of all agents
- `GET /analytics/agents/<agent_id>` — agent metrics


Authentication

- The app uses JWT tokens generated by the backend helper `JWTUtils`.
- In production, Supabase Auth should manage passwords and tokens.

Notes

- The API responses are wrapped with `success` and `data` fields (see `backend/utils/error_handler.py`).
- Attachments: upload endpoints are not implemented in this demo but storage is expected to be Supabase Storage.
